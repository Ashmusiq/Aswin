CREATE TABLE EMPLOYEE(
    EMP_ID INT PRIMARY KEY,
    NAME VARCHAR (20),
    DOB DATE,
    GENDER VARCHAR (10),
    SALARY INT,
    SUPERVISORID INT,
    BRANCHID INT

);

CREATE TABLE BRANCH(
    BRANCHID INT PRIMARY KEY,
    BRANCHNAME VARCHAR(20),
    MANAGERID INT,
    FOREIGN KEY (MANAGERID) REFERENCES EMPLOYEE (EMP_ID) ON DELETE SET NULL
);

ALTER TABLE EMPLOYEE
ADD FOREIGN KEY (BRANCHID)
REFERENCES BRANCH (BRANCHID)
ON DELETE SET NULL;

ALTER TABLE EMPLOYEE
ADD FOREIGN KEY (SUPERVISORID)
REFERENCES EMPLOYEE (EMP_ID)
ON DELETE SET NULL;

CREATE TABLE CLIENT(
    CLIENTID INT PRIMARY KEY,
    CLIENTNAME VARCHAR(20),
    BRANCHID INT,
    FOREIGN KEY (BRANCHID) REFERENCES BRANCH(BRANCHID) ON DELETE SET NULL
);

CREATE TABLE WORKWITHCLIENT(
    EMP_ID INT,
    CLIENTID INT,
    TOTAL_SALES INT,
    PRIMARY KEY (EMP_ID,CLIENTID),
    FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID) ON DELETE CASCADE,
    FOREIGN KEY (CLIENTID) REFERENCES CLIENT(CLIENTID) ON DELETE CASCADE
);

CREATE TABLE SUPPLIER(
    BRANCHID INT,
    SUPPLIERNAME VARCHAR(20),
    SUPPLIERPRODUCT VARCHAR(20),
    PRIMARY KEY (BRANCHID,SUPPLIERNAME),
    FOREIGN KEY (BRANCHID) REFERENCES BRANCH(BRANCHID) ON DELETE CASCADE
);
--EMPLOYEE DATA

INSERT INTO EMPLOYEE VALUES(100,'ASWIN','2001-09-17','M',100000,NULL,NULL);
INSERT INTO BRANCH VALUES (1,'BANGALORE',100);
UPDATE EMPLOYEE
SET BRANCHID=1
WHERE EMP_ID=100;
INSERT INTO EMPLOYEE VALUES(101, 'NAVEEN', '2002-05-11', 'M', 90000, 100, 1);
INSERT INTO EMPLOYEE VALUES(102,'SHANKAR','2001-10-27','M',90000,100,NULL);
INSERT INTO BRANCH VALUES (2,'CHENNAI',102);
UPDATE EMPLOYEE
SET BRANCHID=2
WHERE EMP_ID=102;
INSERT INTO EMPLOYEE VALUES(103,'DHINA','2001-09-16','M',77000,102,2);
INSERT INTO EMPLOYEE VALUES (104,'AATHI','2001-10-24','M',77000,102,2);
INSERT INTO EMPLOYEE VALUES(105,'LOGU','2001-11-09','M',90000,100,NULL);
INSERT INTO BRANCH VALUES (3,'COIMBATORE',100);
UPDATE EMPLOYEE
SET BRANCHID=3
WHERE EMP_ID=105;
INSERT INTO EMPLOYEE VALUES(106,'HARISH','2001-11-30','M',70000,105,3);
INSERT INTO EMPLOYEE VALUES (107,'JESI','2002-01-01','F',55000,105,3);


--CLIENT DATA

INSERT INTO CLIENT VALUES(300,'RAJANETWORKS',2);
INSERT INTO CLIENT VALUES(301,'SREESCHOOLS',3);
INSERT INTO CLIENT VALUES(302,'BABALIMITED',2);
INSERT INTO CLIENT VALUES(303,'ABIGROUPS',2);
INSERT INTO CLIENT VALUES(304,'HARICHITS',3);

--WORKWITHCLIENTS

INSERT INTO WORKWITHCLIENT VALUES(101,300,500000);
INSERT INTO WORKWITHCLIENT VALUES(103,301,240000);
INSERT INTO WORKWITHCLIENT VALUES(104,302,234500);
INSERT INTO WORKWITHCLIENT VALUES(106,303,100000);
INSERT INTO WORKWITHCLIENT VALUES(107,304,89000);

--SUPPLIER

INSERT INTO SUPPLIER VALUES(1,'PARKER','PEN & STATIONARY');
INSERT INTO SUPPLIER VALUES(1,'GOKILANETWORKS','INTERNET');
INSERT INTO SUPPLIER VALUES(2,'RORITO','STATIONARY');
INSERT INTO SUPPLIER VALUES(3,'RAMANINTERNETS','INTERNET');

SELECT * FROM EMPLOYEE;
SELECT * FROM BRANCH;
SELECT * FROM CLIENT;
SELECT * FROM SUPPLIER;
SELECT * FROM WORKWITHCLIENT;


SELECT EMPLOYEE.NAME,EMPLOYEE.BRANCHID,BRANCH.BRANCHNAME,BRANCH.BRANCHID
FROM EMPLOYEE
JOIN BRANCH
ON EMPLOYEE.BRANCHID=BRANCH.BRANCHID;
